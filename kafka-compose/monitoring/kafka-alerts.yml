groups:
  - name: kafka-alerts
    rules:
      - alert: KafkaDown
        expr: up{job="kafka-exporter"} == 0
        for: 1m
        labels:
          severity: critical
        annotations:
          summary: "Kafka is down"
          description: "Kafka has been down for more than 1 minute"

      - alert: SchemaRegistryDown
        expr: up{job="schema-registry-jmx"} == 0
        for: 1m
        labels:
          severity: critical
        annotations:
          summary: "Schema Registry is down"
          
      - alert: HighConsumerLag
        expr: kafka_consumer_lag_sum > 1000
        for: 5m
        labels:
          severity: warning
        annotations:
          summary: "High consumer lag detected"
          description: "Consumer lag is {{ $value }}"